<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dudu ❤️ Für Dich</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrap" role="main" aria-labelledby="title">
    <h1 id="title">Dudu — Dein süßer Bär</h1>
    <p class="lead">Klick auf Dudu für einen Kuss und einen lieben Spruch 💕</p>

    <div class="stage">
      <div class="bubble" id="bubble" aria-live="polite" role="status"></div>

      <div class="dudu idle" id="dudu" role="button" tabindex="0" aria-pressed="false" title="Auf Dudu tippen">
        <img src="dudu_foto.jpg" alt="Ein süßer Cartoon-Bär mit Kapuzenpulli." />
      </div>

      <div class="hearts" id="hearts" aria-hidden="true">
        <div class="heart" style="left:60%; top:60%"><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M32 54s-22-12.5-22-28c0-8.8 6.2-14 13-14 5 0 9 3.6 9 3.6S38 12 43 12c6.8 0 13 5.2 13 14 0 15.5-22 28-22 28z" fill="#ff6fa3"/></svg></div>
        <div class="heart" style="left:40%; top:55%"><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M32 54s-22-12.5-22-28c0-8.8 6.2-14 13-14 5 0 9 3.6 9 3.6S38 12 43 12c6.8 0 13 5.2 13 14 0 15.5-22 28-22 28z" fill="#ff9bb3"/></svg></div>
        <div class="heart" style="left:50%; top:70%"><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M32 54s-22-12.5-22-28c0-8.8 6.2-14 13-14 5 0 9 3.6 9 3.6S38 12 43 12c6.8 0 13 5.2 13 14 0 15.5-22 28-22 28z" fill="#ff4f85"/></svg></div>
      </div>

      <div class="shadow-oval" aria-hidden="true"></div>
    </div>

    <div class="hint">Tipp: Tippe mehrmals – Dudu hat viele Sprüche ✨</div>
  </div>

<script>
(function(){
  const dudu = document.getElementById('dudu');
  const bubble = document.getElementById('bubble');
  const hearts = Array.from(document.querySelectorAll('.heart'));

  // umfangreiche Sprücheliste (einmalig, wird zufällig gemischt und durchlaufen ohne Wiederholung)
  const phrasesOriginal = [
    "Du bist mein Lieblingsgedanke am Morgen.",
    "Dein Lächeln macht meinen Tag heller.",
    "Mit dir ist jedes Abenteuer süßer.",
    "Ich liebe deine Art zu träumen.",
    "Du bist mein ruhiger Hafen im Sturm.",
    "Deine Nähe fühlt sich nach Zuhause an.",
    "Bei dir vergesse ich die Zeit.",
    "Du bringst mein Herz zum Tanzen.",
    "Deine Hand passt perfekt zu meiner.",
    "Ich staune jeden Tag über dich.",
    "Du bist das Beste, was mir passiert ist.",
    "Ich liebe dich mehr, als Worte sagen können.",
    "Dein Lachen ist mein Lieblingssong.",
    "Ich mag die Art, wie du die Welt siehst.",
    "Mit dir sind kleine Momente magisch.",
    "Du gibst mir so viel Wärme.",
    "Ich bewundere deine Sanftheit.",
    "Ich küsse dich in Gedanken gerade jetzt.",
    "Du bist mein heimliches großes Glück.",
    "Deine Stimme ist Balsam für mich.",
    "Ohne dich wär alles ein bisschen grauer.",
    "Du bist die schönste Überraschung meines Lebens.",
    "Ich liebe, wie du mich zum Lächeln bringst.",
    "Jeden Tag mit dir möchte ich wiederholen.",
    "Du machst mich mutiger und sanfter zugleich.",
    "In deinen Augen finde ich Frieden.",
    "Ich sammle gern Erinnerungen mit dir.",
    "Du trägst Liebe in jeder kleinen Geste.",
    "Danke, dass du so wundervoll bist.",
    "Du bist mein Lieblingsmensch, immer.",
    "Mit dir ist auch Stille angenehm.",
    "Ich liebe es, wie du mich verstehst.",
    "Du bist zärtlich und stark zugleich.",
    "Deine Schritte klingen für mich wie Zuhause.",
    "Ich bin so froh, dich zu haben.",
    "Du machst mein Leben bunter.",
    "Ich kann an nichts anderes denken als an dich.",
    "Deine Umarmungen sind mein Lieblingsort.",
    "Ich liebe deine kleinen Marotten.",
    "Du bist mein Sonnenschein an Wolkentagen.",
    "Ich bin stolz, dich an meiner Seite zu wissen.",
    "Deine Nähe heilt mich.",
    "Du bist mein kleines, großes Wunder.",
    "Ich schicke dir tausend Küsschen.",
    "Nur du weißt mein Herz so zu lesen.",
    "Mit dir will ich alt werden.",
    "Du bist mein süßester Gedanke vor dem Schlaf.",
    "Ich liebe jedes Detail an dir.",
    "Du bist mein Ruhepol und mein Abenteuer zugleich.",
    "Dein Mut inspiriert mich täglich."
  ];

  // Fisher-Yates shuffle
  function shuffle(arr){
    const a = arr.slice();
    for(let i=a.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [a[i],a[j]] = [a[j],a[i]];
    }
    return a;
  }

  let phrases = shuffle(phrasesOriginal);
  let idx = 0;

  function nextPhrase(){
    if(idx >= phrases.length){
      // reshuffle when alle durch sind
      phrases = shuffle(phrasesOriginal);
      idx = 0;
    }
    return phrases[idx++];
  }

  function showBubble(text){
    bubble.textContent = text;
    const small = document.createElement('small');
    small.textContent = "— Sori";
    bubble.appendChild(small);
    bubble.classList.add('show');
    // hide after 3s
    clearTimeout(bubble._t);
    bubble._t = setTimeout(()=> bubble.classList.remove('show'), 3000);
  }

  function animateHearts(){
    // pick 2-3 hearts and trigger animation staggered
    hearts.forEach(h => h.classList.remove('animate'));
    // a small stagger loop
    hearts.forEach((h,i) => {
      setTimeout(()=> {
        h.classList.add('animate');
      }, i*120);
    });
  }

  function doKiss(){
    // add kiss effect class
    dudu.classList.remove('idle'); // stop breathing while kissing
    dudu.classList.add('kiss');
    dudu.setAttribute('aria-pressed','true');
    // short soundless kiss: wiggle mouth by applying transform to svg mouth group (aria-hidden)
    // remove classes after animation
    setTimeout(()=> {
      dudu.classList.remove('kiss');
      dudu.classList.add('idle');
      dudu.setAttribute('aria-pressed','false');
    }, 700);
  }

  function handleInteraction(){
    const phrase = nextPhrase();
    showBubble(phrase);
    animateHearts();
    doKiss();
  }

  // click + keyboard support
  dudu.addEventListener('click', handleInteraction);
  dudu.addEventListener('keydown', (ev) => {
    if(ev.key === 'Enter' || ev.key === ' '){
      ev.preventDefault();
      handleInteraction();
    }
  });

  // show first phrase shortly after load
  setTimeout(()=> { showBubble(nextPhrase()); }, 700);

  // accessibility: announce when focus via keyboard
  dudu.addEventListener('focus', () => {
    dudu.style.boxShadow = "0 10px 30px rgba(150,90,120,0.12)";
  });
  dudu.addEventListener('blur', () => {
    dudu.style.boxShadow = "";
  });
})();
</script>
</body>
</html>